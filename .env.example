# Database
DATABASE_URL="postgresql://user:password@localhost:5432/multitenant_db"

# JWT
JWT_SECRET="your-secret-key-change-in-production"
JWT_EXPIRATION="15m"

# Google OAuth Configuration
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_CALLBACK_URL="http://localhost:3000/auth/google/callback"
GOOGLE_LINK_CALLBACK_URL="http://localhost:3000/auth/google/link/callback"

# Application
PORT=3000
NODE_ENV="development"

# Tenant Identification
TENANT_HEADER_NAME="x-tenant-id"
ENABLE_SUBDOMAIN_ROUTING=true

# CORS Configuration
# Comma-separated list of allowed origins for production
# Example: CORS_ORIGIN="https://app.example.com,https://admin.example.com"
CORS_ORIGIN="*"

# Redis Configuration (for BullMQ)
REDIS_URL="redis://localhost:6379"

# Queue Configuration
NOTIFICATION_QUEUE_CONCURRENCY=5
NOTIFICATION_MAX_RETRIES=3
NOTIFICATION_RETRY_DELAY=5000

# Rate Limiting Configuration
TENANT_RATE_LIMIT_WINDOW_MS=60000
TENANT_RATE_LIMIT_MAX_REQUESTS=100
USER_RATE_LIMIT_WINDOW_MS=60000
USER_RATE_LIMIT_MAX_REQUESTS=50
NOTIFICATION_RATE_LIMIT_WINDOW_MS=3600000
NOTIFICATION_RATE_LIMIT_MAX_REQUESTS=10

# Phone Number Configuration
DEFAULT_COUNTRY_CODE=+1

# Alerting Configuration
ALERTING_ENABLED=false
ALERT_FAILURE_RATE_THRESHOLD=5
ALERT_FAILURE_RATE_ENABLED=true
ALERT_QUEUE_DEPTH_THRESHOLD=1000
ALERT_QUEUE_DEPTH_ENABLED=true
ALERT_QUEUE_LAG_THRESHOLD=300
ALERT_QUEUE_LAG_ENABLED=true
ALERT_PROVIDER_ERROR_THRESHOLD=10
ALERT_PROVIDER_ERROR_ENABLED=true

# Alert Delivery Configuration
ALERT_WEBHOOK_URL=
ALERT_EMAIL_RECIPIENTS=
ALERT_SLACK_WEBHOOK_URL=
ALERT_EMAIL_FROM=alerts@example.com
EMAIL_WEBHOOK_URL=

# WebSocket Configuration
WEBSOCKET_CORS_ORIGIN="http://localhost:3000"

# =============================================================================
# NOTIFICATION SYSTEM CONFIGURATION
# =============================================================================

# Email Configuration
# Supported providers: resend, ses, onesignal, smtp
EMAIL_PROVIDER="smtp"
EMAIL_API_KEY="your-email-api-key"
EMAIL_FROM_ADDRESS="noreply@example.com"
EMAIL_FROM_NAME="Your App Name"

# SMTP Configuration (fallback email provider)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"

# AWS SES Configuration (if using SES provider)
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"

# SMS Configuration
# Supported providers: twilio, termii
SMS_PROVIDER="twilio"
SMS_API_KEY="your-sms-api-key"
SMS_API_SECRET="your-sms-api-secret"
SMS_FROM_NUMBER="+1234567890"

# Termii Configuration (if using Termii provider)
TERMII_SENDER_ID="YourApp"

# In-App Notification Configuration
IN_APP_NOTIFICATION_EXPIRY_DAYS=30
MAX_UNREAD_NOTIFICATIONS=100

# Data Privacy Configuration
# How long to keep notifications before automatic deletion (in days)
NOTIFICATION_RETENTION_DAYS=90
# How long to keep audit logs (in days)
AUDIT_LOG_RETENTION_DAYS=365

# =============================================================================
# ALERTING CONFIGURATION
# =============================================================================

# Enable/disable alerting system
ALERTING_ENABLED=false

# Failure Rate Alert (percentage)
ALERT_FAILURE_RATE_THRESHOLD=5
ALERT_FAILURE_RATE_ENABLED=true

# Queue Depth Alert (number of jobs)
ALERT_QUEUE_DEPTH_THRESHOLD=1000
ALERT_QUEUE_DEPTH_ENABLED=true

# Queue Lag Alert (seconds)
ALERT_QUEUE_LAG_THRESHOLD=300
ALERT_QUEUE_LAG_ENABLED=true

# Provider Error Rate Alert (percentage)
ALERT_PROVIDER_ERROR_THRESHOLD=10
ALERT_PROVIDER_ERROR_ENABLED=true

# Alert Delivery Channels
# Generic webhook URL for custom alert handling
ALERT_WEBHOOK_URL="https://your-webhook-endpoint.com/alerts"

# Comma-separated list of email addresses for alert notifications
ALERT_EMAIL_RECIPIENTS="admin@example.com,devops@example.com"

# Slack webhook URL for Slack notifications
ALERT_SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"
